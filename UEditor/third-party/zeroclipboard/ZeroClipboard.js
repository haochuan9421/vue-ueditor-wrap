/*! For license information please see ZeroClipboard.js.LICENSE.txt */
!function(e){"use strict";var t,a,n,r,i,o={bridge:null,version:"0.0.0",pluginType:"unknown",disabled:null,outdated:null,unavailable:null,deactivated:null,overdue:null,ready:null},l={},s=null,c=0,d={},u=0,f={},p=function(){var e,t,a,n,r="ZeroClipboard.swf";if(!document.currentScript||!(n=document.currentScript.src)){var i=document.getElementsByTagName("script");if("readyState"in i[0])for(e=i.length;e--&&("interactive"!==i[e].readyState||!(n=i[e].src)););else if("loading"===document.readyState)n=i[i.length-1].src;else{for(e=i.length;e--;){if(!(a=i[e].src)){t=null;break}if(a=(a=a.split("#")[0].split("?")[0]).slice(0,a.lastIndexOf("/")+1),null==t)t=a;else if(t!==a){t=null;break}}null!==t&&(n=t)}}return n&&(r=(n=n.split("#")[0].split("?")[0]).slice(0,n.lastIndexOf("/")+1)+r),r}(),h=(a=/\-([a-z])/g,n=function(e,t){return t.toUpperCase()},function(e){return e.replace(a,n)}),v=function(t){var a;t||(t=e.event),this!==e?a=this:t.target?a=t.target:t.srcElement&&(a=t.srcElement),E.activate(a)},y=function(e,t){if(!e||1!==e.nodeType)return e;if(e.classList)return e.classList.contains(t)||e.classList.add(t),e;if(t&&"string"==typeof t){var a=(t||"").split(/\s+/);if(1===e.nodeType)if(e.className){for(var n=" "+e.className+" ",r=e.className,i=0,o=a.length;i<o;i++)n.indexOf(" "+a[i]+" ")<0&&(r+=" "+a[i]);e.className=r.replace(/^\s+|\s+$/g,"")}else e.className=t}return e},g=function(e,t){if(!e||1!==e.nodeType)return e;if(e.classList)return e.classList.contains(t)&&e.classList.remove(t),e;if(t&&"string"==typeof t||void 0===t){var a=(t||"").split(/\s+/);if(1===e.nodeType&&e.className)if(t){for(var n=(" "+e.className+" ").replace(/[\n\t]/g," "),r=0,i=a.length;r<i;r++)n=n.replace(" "+a[r]+" "," ");e.className=n.replace(/^\s+|\s+$/g,"")}else e.className=""}return e},m=function(e,t,a){if("function"==typeof t.indexOf)return t.indexOf(e,a);var n,r=t.length;for(void 0===a?a=0:a<0&&(a=r+a),n=a;n<r;n++)if(t.hasOwnProperty(n)&&t[n]===e)return n;return-1},b=function(e){if("string"==typeof e)throw new TypeError("ZeroClipboard doesn't accept query strings.");return"number"!=typeof e.length?[e]:e},w=function(t,a,n,r){r?e.setTimeout((function(){t.apply(a,n)}),0):t.apply(a,n)},x=function(e){var t,a;return e&&("number"==typeof e&&e>0?t=e:"string"==typeof e&&(a=parseInt(e,10))&&!isNaN(a)&&a>0&&(t=a)),t||("number"==typeof I.zIndex&&I.zIndex>0?t=I.zIndex:"string"==typeof I.zIndex&&(a=parseInt(I.zIndex,10))&&!isNaN(a)&&a>0&&(t=a)),t||0},C=function(){var e,t,a,n,r,i=arguments[0]||{};for(e=1,t=arguments.length;e<t;e++)if(null!=(a=arguments[e]))for(n in a)if(a.hasOwnProperty(n)){if(i[n],i===(r=a[n]))continue;void 0!==r&&(i[n]=r)}return i},O=function(e){if(null==e||""===e)return null;if(""===(e=e.replace(/^\s+|\s+$/g,"")))return null;var t=e.indexOf("//"),a=(e=-1===t?e:e.slice(t+2)).indexOf("/");return(e=-1===a?e:-1===t||0===a?null:e.slice(0,a))&&".swf"===e.slice(-4).toLowerCase()?null:e||null},T=(r=function(e,t){var a,n,r;if(null!=e&&"*"!==t[0]&&("string"==typeof e&&(e=[e]),"object"==typeof e&&"number"==typeof e.length))for(a=0,n=e.length;a<n;a++)if(e.hasOwnProperty(a)&&(r=O(e[a]))){if("*"===r){t.length=0,t.push("*");break}-1===m(r,t)&&t.push(r)}},function(e,t){var a=O(t.swfPath);null===a&&(a=e);var n=[];r(t.trustedOrigins,n),r(t.trustedDomains,n);var i=n.length;if(i>0){if(1===i&&"*"===n[0])return"always";if(-1!==m(e,n))return 1===i&&e===a?"sameDomain":"always"}return"never"}),D=function(e){if(null==e)return[];if(Object.keys)return Object.keys(e);var t=[];for(var a in e)e.hasOwnProperty(a)&&t.push(a);return t},z=function(e,t){for(var a={},n=0,r=t.length;n<r;n++)t[n]in e&&(a[t[n]]=e[t[n]]);return a},k=function(e,t){var a={};for(var n in e)-1===m(n,t)&&(a[n]=e[n]);return a},N=(i=e.Array.prototype.slice,function(e){return i.call(e,0)});!function(){var e,t,a=!1,n=!1,r=!1,i="";function l(e){var t=e.match(/[\d]+/g);return t.length=3,t.join(".")}function s(e){var t;e&&(a=!0,e.version&&(i=l(e.version)),!i&&e.description&&(i=l(e.description)),e.filename&&(t=e.filename,r=!!t&&(t=t.toLowerCase())&&(/^(pepflashplayer\.dll|libpepflashplayer\.so|pepperflashplayer\.plugin)$/.test(t)||"chrome.plugin"===t.slice(-13))))}if(navigator.plugins&&navigator.plugins.length)s(navigator.plugins["Shockwave Flash"]),navigator.plugins["Shockwave Flash 2.0"]&&(a=!0,i="2.0.0.11");else if(navigator.mimeTypes&&navigator.mimeTypes.length)s((t=navigator.mimeTypes["application/x-shockwave-flash"])&&t.enabledPlugin);else if("undefined"!=typeof ActiveXObject){n=!0;try{e=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.7"),a=!0,i=l(e.GetVariable("$version"))}catch(t){try{e=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.6"),a=!0,i="6.0.21"}catch(t){try{e=new ActiveXObject("ShockwaveFlash.ShockwaveFlash"),a=!0,i=l(e.GetVariable("$version"))}catch(e){n=!1}}}}o.disabled=!0!==a,o.outdated=i&&parseFloat(i)<11,o.version=i||"0.0.0",o.pluginType=r?"pepper":n?"activex":a?"netscape":"unknown"}();var E=function(e){if(!(this instanceof E))return new E(e);if(this.id=""+c++,d[this.id]={instance:this,elements:[],handlers:{}},e&&this.clip(e),"boolean"!=typeof o.ready&&(o.ready=!1),!E.isFlashUnusable()&&null===o.bridge){var t=this,a=I.flashLoadTimeout;"number"==typeof a&&a>=0&&setTimeout((function(){"boolean"!=typeof o.deactivated&&(o.deactivated=!0),!0===o.deactivated&&E.emit({type:"error",name:"flash-deactivated",client:t})}),a),o.overdue=!1,P()}};E.prototype.setText=function(e){return E.setData("text/plain",e),this},E.prototype.setHtml=function(e){return E.setData("text/html",e),this},E.prototype.setRichText=function(e){return E.setData("application/rtf",e),this},E.prototype.setData=function(){return E.setData.apply(E,N(arguments)),this},E.prototype.clearData=function(){return E.clearData.apply(E,N(arguments)),this},E.prototype.setSize=function(e,t){return A(e,t),this},E.prototype.destroy=function(){this.unclip(),this.off(),delete d[this.id]},E.version="2.0.0-beta.5";var I={swfPath:p,trustedDomains:e.location.host?[e.location.host]:[],cacheBust:!0,forceHandCursor:!1,forceEnhancedClipboard:!1,zIndex:999999999,debug:!1,title:null,autoActivate:!0,flashLoadTimeout:3e4};E.isFlashUnusable=function(){return!!(o.disabled||o.outdated||o.unavailable||o.deactivated)},E.config=function(e){if("object"==typeof e&&null!==e&&C(I,e),"string"==typeof e&&e)return I.hasOwnProperty(e)?I[e]:void 0;var t={};for(var a in I)I.hasOwnProperty(a)&&("object"==typeof I[a]&&null!==I[a]?"length"in I[a]?t[a]=I[a].slice(0):t[a]=C({},I[a]):t[a]=I[a]);return t},E.destroy=function(){for(var e in E.deactivate(),d)if(d.hasOwnProperty(e)&&d[e]){var t=d[e].instance;t&&"function"==typeof t.destroy&&t.destroy()}var a=o.bridge;if(a){var n=L(a);n&&("activex"===o.pluginType&&"readyState"in a?(a.style.display="none",function e(){if(4===a.readyState){for(var t in a)"function"==typeof a[t]&&(a[t]=null);a.parentNode.removeChild(a),n.parentNode&&n.parentNode.removeChild(n)}else setTimeout(e,10)}()):(a.parentNode.removeChild(a),n.parentNode&&n.parentNode.removeChild(n))),o.ready=null,o.bridge=null,o.deactivated=null}E.clearData()},E.activate=function(a){t&&(g(t,I.hoverClass),g(t,I.activeClass)),t=a,y(a,I.hoverClass),S();var n,r,i,l,s,c=I.title||a.getAttribute("title");if(c){var d=L(o.bridge);d&&d.setAttribute("title",c)}s=!0===I.forceHandCursor||"pointer"===(n=a,r="cursor",e.getComputedStyle?i=e.getComputedStyle(n,null).getPropertyValue(r):(l=h(r),i=n.currentStyle?n.currentStyle[l]:n.style[l]),i&&"auto"!==i||"a"!==n.tagName.toLowerCase()?i:"pointer"),!0===o.ready&&o.bridge&&"function"==typeof o.bridge.setHandCursor?o.bridge.setHandCursor(s):o.ready=!1},E.deactivate=function(){var e=L(o.bridge);e&&(e.removeAttribute("title"),e.style.left="0px",e.style.top="-9999px",A(1,1)),t&&(g(t,I.hoverClass),g(t,I.activeClass),t=null)},E.state=function(){return{browser:z(e.navigator,["userAgent","platform","appName"]),flash:k(o,["bridge"]),zeroclipboard:{version:E.version,config:E.config()}}},E.setData=function(e,t){var a;if("object"==typeof e&&e&&void 0===t)a=e,E.clearData();else{if("string"!=typeof e||!e)return;(a={})[e]=t}for(var n in a)n&&a.hasOwnProperty(n)&&"string"==typeof a[n]&&a[n]&&(l[n]=a[n])},E.clearData=function(e){void 0===e?(function(e){if(e)for(var t in e)e.hasOwnProperty(t)&&delete e[t]}(l),s=null):"string"==typeof e&&l.hasOwnProperty(e)&&delete l[e]};var P=function(){var t,a,n,r,i=document.getElementById("global-zeroclipboard-html-bridge");if(!i){var l=T(e.location.host,I),s="never"===l?"none":"all",c=function(t){var a,n,r,i,o="",l=[];if(t.trustedDomains&&("string"==typeof t.trustedDomains?i=[t.trustedDomains]:"object"==typeof t.trustedDomains&&"length"in t.trustedDomains&&(i=t.trustedDomains)),i&&i.length)for(a=0,n=i.length;a<n;a++)if(i.hasOwnProperty(a)&&i[a]&&"string"==typeof i[a]){if(!(r=O(i[a])))continue;if("*"===r){l=[r];break}l.push.apply(l,[r,"//"+r,e.location.protocol+"//"+r])}return l.length&&(o+="trustedOrigins="+encodeURIComponent(l.join(","))),!0===t.forceEnhancedClipboard&&(o+=(o?"&":"")+"forceEnhancedClipboard=true"),o}(I),d=I.swfPath+(n=I.swfPath,null==(r=I)||r&&!0===r.cacheBust?(-1===n.indexOf("?")?"?":"&")+"noCache="+(new Date).getTime():"");i=j();var u=document.createElement("div");i.appendChild(u),document.body.appendChild(i);var f=document.createElement("div"),p="activex"===o.pluginType;f.innerHTML='<object id="global-zeroclipboard-flash-bridge" name="global-zeroclipboard-flash-bridge" width="100%" height="100%" '+(p?'classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000"':'type="application/x-shockwave-flash" data="'+d+'"')+">"+(p?'<param name="movie" value="'+d+'"/>':"")+'<param name="allowScriptAccess" value="'+l+'"/><param name="allowNetworking" value="'+s+'"/><param name="menu" value="false"/><param name="wmode" value="transparent"/><param name="flashvars" value="'+c+'"/></object>',t=f.firstChild,f=null,t.ZeroClipboard=E,i.replaceChild(t,u)}t||((t=document["global-zeroclipboard-flash-bridge"])&&(a=t.length)&&(t=t[a-1]),t||(t=i.firstChild)),o.bridge=t||null},j=function(){var e=document.createElement("div");return e.id="global-zeroclipboard-html-bridge",e.className="global-zeroclipboard-container",e.style.position="absolute",e.style.left="0px",e.style.top="-9999px",e.style.width="1px",e.style.height="1px",e.style.zIndex=""+x(I.zIndex),e},L=function(e){for(var t=e&&e.parentNode;t&&"OBJECT"===t.nodeName&&t.parentNode;)t=t.parentNode;return t||null},S=function(){if(t){var a=function(t,a){var n={left:0,top:0,width:0,height:0,zIndex:x(a)-1};if(t.getBoundingClientRect){var r,i,o,l=t.getBoundingClientRect();"pageXOffset"in e&&"pageYOffset"in e?(r=e.pageXOffset,i=e.pageYOffset):(o=function(){var e,t,a,n=1;return"function"==typeof document.body.getBoundingClientRect&&(t=(e=document.body.getBoundingClientRect()).right-e.left,a=document.body.offsetWidth,n=Math.round(t/a*100)/100),n}(),r=Math.round(document.documentElement.scrollLeft/o),i=Math.round(document.documentElement.scrollTop/o));var s=document.documentElement.clientLeft||0,c=document.documentElement.clientTop||0;n.left=l.left+r-s,n.top=l.top+i-c,n.width="width"in l?l.width:l.right-l.left,n.height="height"in l?l.height:l.bottom-l.top}return n}(t,I.zIndex),n=L(o.bridge);n&&(n.style.top=a.top+"px",n.style.left=a.left+"px",n.style.width=a.width+"px",n.style.height=a.height+"px",n.style.zIndex=a.zIndex+1),A(a.width,a.height)}},A=function(e,t){var a=L(o.bridge);a&&(a.style.width=e+"px",a.style.height=t+"px")};E.emit=function(t){var a,n,r,i,c,u,f,p,h;if("string"==typeof t&&t&&(a=t),"object"==typeof t&&t&&"string"==typeof t.type&&t.type&&(a=t.type,n=t),a){if(t=H(a,n),$(t),"ready"===t.type&&!0===o.overdue)return E.emit({type:"error",name:"flash-overdue"});if(r=!/^(before)?copy$/.test(t.type),t.client)F.call(t.client,t,r);else for(i=t.target&&t.target!==e&&!0===I.autoActivate?R(t.target):function(){var e,t,a,n=[],r=D(d);for(e=0,t=r.length;e<t;e++)(a=d[r[e]].instance)&&a instanceof E&&n.push(a);return n}(),c=0,u=i.length;c<u;c++)f=C({},t,{client:i[c]}),F.call(i[c],f,r);return"copy"===t.type&&(p=(h=function(e){var t={},a={};if("object"==typeof e&&e){for(var n in e)if(n&&e.hasOwnProperty(n)&&"string"==typeof e[n]&&e[n])switch(n.toLowerCase()){case"text/plain":case"text":case"air:text":case"flash:text":t.text=e[n],a.text=n;break;case"text/html":case"html":case"air:html":case"flash:html":t.html=e[n],a.html=n;break;case"application/rtf":case"text/rtf":case"rtf":case"richtext":case"air:rtf":case"flash:rtf":t.rtf=e[n],a.rtf=n}return{data:t,formatMap:a}}}(l)).data,s=h.formatMap),p}};var F=function(t,a){var n,r,i,o,l=d[this.id]&&d[this.id].handlers[t.type];if(l&&l.length)for(n=0,r=l.length;n<r;n++)o=this,"string"==typeof(i=l[n])&&"function"==typeof e[i]&&(i=e[i]),"object"==typeof i&&i&&"function"==typeof i.handleEvent&&(o=i,i=i.handleEvent),"function"==typeof i&&w(i,o,[t],a);return this},B={ready:"Flash communication is established",error:{"flash-disabled":"Flash is disabled or not installed","flash-outdated":"Flash is too outdated to support ZeroClipboard","flash-unavailable":"Flash is unable to communicate bidirectionally with JavaScript","flash-deactivated":"Flash is too outdated for your browser and/or is configured as click-to-activate","flash-overdue":"Flash communication was established but NOT within the acceptable time limit"}},H=function(e,a){if(e||a&&a.type){a=a||{},e=(e||a.type).toLowerCase(),C(a,{type:e,target:a.target||t||null,relatedTarget:a.relatedTarget||null,currentTarget:o&&o.bridge||null});var n=B[a.type];return"error"===a.type&&a.name&&n&&(n=n[a.name]),n&&(a.message=n),"ready"===a.type&&C(a,{target:null,version:o.version}),"error"===a.type&&(a.target=null,/^flash-(outdated|unavailable|deactivated|overdue)$/.test(a.name)&&C(a,{version:o.version,minimumVersion:"11.0.0"})),"copy"===a.type&&(a.clipboardData={setData:E.setData,clearData:E.clearData}),"aftercopy"===a.type&&(a=function(e,t){if("object"!=typeof e||!e||"object"!=typeof t||!t)return e;var a={};for(var n in e)if(e.hasOwnProperty(n)){if("success"!==n&&"data"!==n){a[n]=e[n];continue}a[n]={};var r=e[n];for(var i in r)i&&r.hasOwnProperty(i)&&t.hasOwnProperty(i)&&(a[n][t[i]]=r[i])}return a}(a,s)),a.target&&!a.relatedTarget&&(a.relatedTarget=M(a.target)),a}},M=function(e){var t=e&&e.getAttribute&&e.getAttribute("data-clipboard-target");return t?document.getElementById(t):null},$=function(e){var a=e.target||t;switch(e.type){case"error":m(e.name,["flash-disabled","flash-outdated","flash-deactivated","flash-overdue"])&&C(o,{disabled:"flash-disabled"===e.name,outdated:"flash-outdated"===e.name,unavailable:"flash-unavailable"===e.name,deactivated:"flash-deactivated"===e.name,overdue:"flash-overdue"===e.name,ready:!1});break;case"ready":var n=!0===o.deactivated;C(o,{disabled:!1,outdated:!1,unavailable:!1,deactivated:!1,overdue:n,ready:!n});break;case"copy":var r,i,s=e.relatedTarget;!l["text/html"]&&!l["text/plain"]&&s&&(i=s.value||s.outerHTML||s.innerHTML)&&(r=s.value||s.textContent||s.innerText)?(e.clipboardData.clearData(),e.clipboardData.setData("text/plain",r),i!==r&&e.clipboardData.setData("text/html",i)):!l["text/plain"]&&e.target&&(r=e.target.getAttribute("data-clipboard-text"))&&(e.clipboardData.clearData(),e.clipboardData.setData("text/plain",r));break;case"aftercopy":E.clearData(),a&&a!==function(){try{return document.activeElement}catch(e){}return null}()&&a.focus&&a.focus();break;case"mouseover":y(a,I.hoverClass);break;case"mouseout":!0===I.autoActivate&&E.deactivate();break;case"mousedown":y(a,I.activeClass);break;case"mouseup":g(a,I.activeClass)}};E.prototype.on=function(e,t){var a,n,r,i={},l=d[this.id]&&d[this.id].handlers;if("string"==typeof e&&e)r=e.toLowerCase().split(/\s+/);else if("object"==typeof e&&e&&void 0===t)for(a in e)e.hasOwnProperty(a)&&"string"==typeof a&&a&&"function"==typeof e[a]&&this.on(a,e[a]);if(r&&r.length){for(a=0,n=r.length;a<n;a++)i[e=r[a].replace(/^on/,"")]=!0,l[e]||(l[e]=[]),l[e].push(t);if(i.ready&&o.ready&&E.emit({type:"ready",client:this}),i.error){var s=["disabled","outdated","unavailable","deactivated","overdue"];for(a=0,n=s.length;a<n;a++)if(o[s[a]]){E.emit({type:"error",name:"flash-"+s[a],client:this});break}}}return this},E.prototype.off=function(e,t){var a,n,r,i,o,l=d[this.id]&&d[this.id].handlers;if(0===arguments.length)i=D(l);else if("string"==typeof e&&e)i=e.split(/\s+/);else if("object"==typeof e&&e&&void 0===t)for(a in e)e.hasOwnProperty(a)&&"string"==typeof a&&a&&"function"==typeof e[a]&&this.off(a,e[a]);if(i&&i.length)for(a=0,n=i.length;a<n;a++)if((o=l[e=i[a].toLowerCase().replace(/^on/,"")])&&o.length)if(t)for(r=m(t,o);-1!==r;)o.splice(r,1),r=m(t,o,r);else l[e].length=0;return this},E.prototype.handlers=function(e){var t,a=null,n=d[this.id]&&d[this.id].handlers;if(n){if("string"==typeof e&&e)return n[e]?n[e].slice(0):null;for(t in a={},n)n.hasOwnProperty(t)&&n[t]&&(a[t]=n[t].slice(0))}return a},E.prototype.clip=function(e){e=b(e);for(var t=0;t<e.length;t++)if(e.hasOwnProperty(t)&&e[t]&&1===e[t].nodeType){e[t].zcClippingId?-1===m(this.id,f[e[t].zcClippingId])&&f[e[t].zcClippingId].push(this.id):(e[t].zcClippingId="zcClippingId_"+u++,f[e[t].zcClippingId]=[this.id],!0===I.autoActivate&&(n=e[t],r="mouseover",i=v,n&&1===n.nodeType&&(n.addEventListener?n.addEventListener(r,i,!1):n.attachEvent&&n.attachEvent("on"+r,i))));var a=d[this.id].elements;-1===m(e[t],a)&&a.push(e[t])}var n,r,i;return this},E.prototype.unclip=function(e){var t=d[this.id];if(!t)return this;for(var a,n,r,i,o=t.elements,l=(e=void 0===e?o.slice(0):b(e)).length;l--;)if(e.hasOwnProperty(l)&&e[l]&&1===e[l].nodeType){for(a=0;-1!==(a=m(e[l],o,a));)o.splice(a,1);var s=f[e[l].zcClippingId];if(s){for(a=0;-1!==(a=m(this.id,s,a));)s.splice(a,1);0===s.length&&(!0===I.autoActivate&&(n=e[l],r="mouseover",i=v,n&&1===n.nodeType&&(n.removeEventListener?n.removeEventListener(r,i,!1):n.detachEvent&&n.detachEvent("on"+r,i))),delete e[l].zcClippingId)}}return this},E.prototype.elements=function(){var e=d[this.id];return e&&e.elements?e.elements.slice(0):[]};var R=function(e){var t,a,n,r,i,o=[];if(e&&1===e.nodeType&&(t=e.zcClippingId)&&f.hasOwnProperty(t)&&(a=f[t])&&a.length)for(n=0,r=a.length;n<r;n++)(i=d[a[n]].instance)&&i instanceof E&&o.push(i);return o};I.hoverClass="zeroclipboard-is-hover",I.activeClass="zeroclipboard-is-active","function"==typeof define&&define.amd?define((function(){return E})):"object"==typeof module&&module&&"object"==typeof module.exports&&module.exports?module.exports=E:e.ZeroClipboard=E}(function(){return this}());